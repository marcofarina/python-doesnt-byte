# Le stringhe
Come gi√† introdotto nella sezione sull'[output](output.mdx), le stringhe rappresentano una delle strutture dati pi√π utilizzate in qualsiasi programma poich√© consentono di lavorare con testi e sequenze di caratteri. Quasi tutti i programmi, indipendentemente dal contesto, hanno bisogno di manipolare qualche tipo di testo, che sia input dell'utente, etichette su componenti grafici come bottoni o box, password, messaggi, e-mail o interi documenti.

Manipolare le stringhe √® dunque essenziale in molti ambiti dell'informatica, come ad esempio:
- **interazione con l'utente**: i programmi spesso ricevono input in forma testuale dagli utenti;
- **analisi e ricerca**: individuazione di parole chiave o specifici frammenti di testo in documenti, email o dati non strutturati;
- **elaborazione di file**: lettura e scrittura di file di testo, come documenti, fogli di calcolo, log, ecc.;
- **formattazione**: creazione di output strutturati, come report, messaggi, pagine web, ecc.

## Creare una stringa

In Python, le stringhe sono un vero e proprio **tipo di dato** e mettono a disposizione molte funzionalit√† che facilitano queste operazioni. Come gi√† visto in precedenza, la sintassi per definire una stringa √® molto semplice: basta racchiudere il testo tra apici singoli `'` o doppi `"`. Ad esempio:
```python
player1 = "Mario"
player2 = 'Luigi'
```
:::danger[Virgolette dentro le stringhe]
In Python, le stringhe definite con apici singoli e doppi sono equivalenti e possono essere usate indifferentemente. Bisogna per√≤ fare attenzione nel caso in cui si voglia includere un apice all'interno della stringa: in questo caso, √® necessario usare l'apice opposto per racchiudere la stringa. Se fosse necessario includere entrambi gli apici, √® possibile utilizzare il carattere di escape `\` per evitare conflitti. Ad esempio:
```python
hacker = "Kevin \"Condor\" Mitnick"
```
:::

## Unire pi√π stringhe: la concatenazione
La **concatenazione** di stringhe √® una pratica comune in programmazione e consiste nell'unire due o pi√π stringhe per formarne una pi√π lunga. Questa operazione √® utile quando si desidera costruire un messaggio o una frase combinando parti di testo. Python offre diverse modalit√† per eseguire la concatenazione, una delle quali √® l'utilizzo dell'operatore `+`. Ecco un esempio:

```py live_py
# Esempio di concatenazione di stringhe
greeting = "It's-a me"
name = "Mario"
message = greeting + ", " + name + "!"
print(message)
```

Oltre all'operatore `+`, in alcune occasioni pu√≤ essere utile l'operatore `*`, che consente di ripetere una stringa un certo numero di volte. Ad esempio:
```py live_py
lol = "üòÇ" * 10
print(lol)
```

## Formatted String (f-string)
Nonostante sia ampiamente utilizzata in tutti i linguaggi di programmazione, la concatenazione di stringhe pu√≤ essere scomoda da usare, soprattutto quando si devono unire tante parti.

Nella [versione 3.6](https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals) di Python √® stato introdotto un nuovo tipo di stringa, chiamato _formatted string_ e solitamente abbreviato in **f-string**, che consente di incorporare valori di variabili ed espressioni all'interno di stringhe in modo pi√π conciso e leggibile. Le f-string sono definite anteponendo la lettera `f` prima delle virgolette di apertura della stringa.

La sintassi di base di una f-string √® la seguente:
```python
f"Testo normale {espressione} altro testo"
```
Dove `{espressione}` pu√≤ essere sostituito con qualsiasi espressione Python valida, comprese variabili, operazioni, chiamate di funzioni, ecc.

```py live_py
name1 = "Tony"
name2 = "Steve"
message = f"{name1} and {name2} are BFFs"
print(message)
```

## Accedere ai caratteri di una stringa
Per accedere ai singoli caratteri di una stringa, √® possibile utilizzare un meccanismo particolare chiamato **indicizzazione**. In Python, le stringhe sono **sequenze** di caratteri, ovvero una collezione ordinata di elementi, e ogni elemento pu√≤ essere individuato tramite un **indice numerico**.

:::warning[Gli indici partono sempre da 0]
In Python, come in molti altri linguaggi di programmazione, gli indici delle sequenze partono sempre da 0. Questo significa che il primo elemento di una sequenza ha indice 0, il secondo indice 1, e cos√¨ via.
:::

La sintassi per accedere a un carattere di una stringa √® `stringa[indice]`. Ad esempio:
```py live_py
name = "Luigi"
first_letter = name[0]
print(first_letter)
```

## Funzioni utili
Python mette a disposizione una serie di funzionalit√† per manipolare le stringhe in modo semplice e veloce. Queste "funzionalit√†" in informatica si chiamano, appunto, funzioni (o "metodi"; scopriremo nel dettaglio pi√π avanti cosa sono). Per il momento possiamo vederle come se fossero delle azioni che si possono far compiere al programma. Per richiamare una funzione di una stringa, nella maggior parte dei casi basta scrivere il nome della variabile che la contiene seguito da un punto e il nome della funzione.

Vediamo di seguito alcune delle pi√π utili e comuni.

### `len()`
La funzione `len(stringa)` restituisce la lunghezza di una stringa, ovvero il numero di caratteri che la compongono. Ad esempio:
```py live_py
motto = "supercalifragilistichespiralidoso"
print(f"{motto} ha {len(motto)} caratteri")
```
:::info
A differenza degli altri metodi, `len()` √® una funzione propria di Python e non appartiene solo alle stringhe. Si applica passando la stringa come parametro tra le parentesi tonde: `len(string)` e non `string.len()`.
:::

### `upper()` e `lower()`
Le funzioni `upper()` e `lower()`, che al contrario di `len()` sono funzioni specifiche delle stringhe, permettono di convertire una stringa in maiuscolo o minuscolo rispettivamente. Ad esempio:
```py live_py
message = "A vEry sTrAnge mEsSaGe"
print(f"'{message.upper()}' is the same as '{message.lower()}'")
```

### `replace()`
La funzione `replace(old, new)` serve a rimpiazzare una parte di una stringa con un'altra. Questa funzione ha una particolarit√†: riceve in input due parametri e non uno solo. I parametri vanno elencati separandoli con una virgola. Il parametro `old` rappresenta la parte della stringa da cercare e sostituire, mentre `new` rappresenta la parte di stringa nuova. Ad esempio:
```py live_py
name = "Mario"
print(name.replace("M", "W"))
```

---
## Ricorda che...
:::tip[Ricorda che]
- Si possono concatenare stringhe con l'operatore `+` o ripetere con `*`.
- Le f-string permettono di inserire variabili ed espressioni all'interno di una stringa.
- Gli indici delle posizioni dei caratteri nelle stringhe partono da 0.
- Le funzioni `len()`, `upper()`, `lower()` e `replace()` sono alcune delle pi√π comuni per manipolare le stringhe.
:::